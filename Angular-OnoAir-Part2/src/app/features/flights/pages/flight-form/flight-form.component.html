<div class="form-container">
    <mat-card class="form-card">
      <h2 class="glitter-text">Add Flight</h2>
      <form #submitForm="ngForm" (ngSubmit)="onSubmitRegistration()">
        <div>
          <mat-form-field>
            <mat-label>Flight No.</mat-label>
            <input
              matInput
              name="flightNo"
              required
              [(ngModel)]="newFlight.flightNo"
              #flightNo="ngModel"
              pattern="^[a-zA-Z0-9]+$"
            />
          </mat-form-field>
          <mat-error *ngIf="flightNo.invalid && flightNo.dirty && flightNo.value">
              Flight No. must contain only letters or numbers.
          </mat-error>
        </div>
  
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Origin</mat-label>
            <mat-select [(ngModel)]="newFlight.origin" name="origin" required #origin="ngModel">
              <mat-option *ngFor="let destination of destinations" [value]="destination">
                {{ destination }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-error *ngIf="origin.dirty && newFlight.origin === newFlight.destination">
            Origin and destination cannot be the same.
          </mat-error>
        </div>
  
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Destination</mat-label>
            <mat-select
              [(ngModel)]="newFlight.destination"
              name="destination"
              required
              #destination="ngModel"
            >
              <mat-option *ngFor="let destination of destinations" [value]="destination">
                {{ destination }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-error *ngIf="destination.dirty && newFlight.origin === newFlight.destination">
            Origin and destination cannot be the same.
          </mat-error>
        </div>
  
        <div>
          <mat-form-field>
            <mat-label>Boarding Date</mat-label>
            <input
              matInput
              [matDatepicker]="boardingPicker"
              name = "boardingDate"
              required
              [(ngModel)]="boardingDate"
              #boardingDateInput="ngModel"
              [min]="today"
            />
            <mat-datepicker-toggle matSuffix [for]="boardingPicker"></mat-datepicker-toggle>
            <mat-datepicker #boardingPicker></mat-datepicker>
            <mat-error *ngIf="boardingDateInput.invalid && boardingDateInput.touched">
              <span *ngIf="boardingDateInput.errors?.['required']">Boarding date is required.</span>
              <span *ngIf="boardingDateInput.errors?.['matDatepickerMin']">
                Boarding date must be today or later.
              </span>
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Boarding Time</mat-label>
            <input
              matInput
              type="time"
              name = "boardingTime"
              required
              [(ngModel)]="boardingTime"
              #boardingTimeInput="ngModel"
            />
            <mat-error *ngIf="boardingTimeInput.invalid && boardingTimeInput.touched">
              Boarding time is required.
            </mat-error>
          </mat-form-field>
        </div>
        
        <div>
          <mat-form-field>
            <mat-label>Landing Date</mat-label>
            <input
              matInput
              [matDatepicker]="landingPicker"
              name = "landingDate"
              required
              [(ngModel)]="landingDate"
              #landingDateInput="ngModel"
              [min]="boardingDate || today"
            />
            <mat-datepicker-toggle matSuffix [for]="landingPicker"></mat-datepicker-toggle>
            <mat-datepicker #landingPicker></mat-datepicker>
            <mat-error *ngIf="landingDateInput.invalid && landingDateInput.touched">
              <span *ngIf="landingDateInput.errors?.['required']">Landing date is required.</span>
              <span *ngIf="landingDateInput.errors?.['matDatepickerMin']">
                Landing date must be after the boarding date.
              </span>
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Landing Time</mat-label>
            <input
              matInput
              type="time"
              name = "landingTime"
              required
              [(ngModel)]="landingTime"
              #landingTimeInput="ngModel"
            />
            <mat-error *ngIf="landingTimeInput.invalid && landingTimeInput.touched">
              Landing time is required.
            </mat-error>
          </mat-form-field>
        </div>
        
        
        
  
        <div>
          <mat-form-field>
            <mat-label>No. of Seats</mat-label>
            <input
              matInput
              name="seats"
              required
              [(ngModel)]="newFlight.seats"
              #seats="ngModel"
              type="number"
              min="1"/>
              <mat-error>seats must be greater than 0 </mat-error>
          </mat-form-field>
        </div>
  
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="submitForm.invalid || submitForm.pristine"
        >
          Save
        </button>
        <button mat-raised-button color="accent" routerLink="/manage-flights">Back</button>
      </form>
    </mat-card>
  </div>  